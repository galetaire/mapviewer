<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Leaflet + shapefile example</title>
  <link href="styles/style.css" rel="stylesheet" type="text/css">
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>
  <style>  #map {
    height:50vh;
    background: white;   /* looks like poured concrete */
  }</style>
</head>
<body>
  <h2>Data sources and updating</h2>
  <p>The content is based on data from multiple statistical institutions. All are reproducible and can be verified.</p>

  <p>As a rule of thumb, the data are updated quarterly. When dealing with current year data, the figures shown are an annual projection using the already available data (months, weeks...). Because of the seasonal nature of some variables, the annual projection is seasonally adjusted when suitable.</p>

  <h2>Notes and contact</h2>
  <p>This website is an open, public, and free project that can be entirely forked through github. All content is original and can be reproduced as long as it is conveniently credited. You can contact me via <a href="https://x.com/HousingSpanish">X</a> or <a href="https://www.reddit.com/r/spainhousing/">Reddit</a>. Or via my personal account on <a href="https://primal.net/Galetaire">Nostr</a> (<a href="public/nostrpubkey.html">public key</a>).</p>

  <h2>Donate ðŸ«™</h2>
  <p>If you would like to support the project, any sending of satoshis to the following bitcoin lightning address is greatly appreciated: <a href="https://primal.net/Galetaire">galetaire@primal.net</a>. Warmest thanks!</p>

<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  // 1. Create the map
  const map = L.map('map').setView([40.4, -3.7], 6);   // center on Spain
  map.attributionControl.setPrefix(false);

  // 3. Load your GeoJSON
  fetch('data/mallorca.geojson')          // same folder, or use full URL
    .then(r => r.json())
    .then(data => {
      const geo = L.geoJSON(data, {
          style: { weight: 1, color: '#333', fillColor: '#5f8', fillOpacity: 0.4 },
          onEachFeature: (f, layer) => layer.bindPopup(f.properties.NAME)
      }).addTo(map);
      // 4. Zoom to it
      map.fitBounds(geo.getBounds());
    });
</script>
</body>
</html>
